什么时候会用到地址呢？

比如说我有个`int *p`，那么，当我取`*p`时，会怎样呢？

`p`一定是记录一个内存地址的，而且一定是字节地址的。   
所以`*p`，就会从内存中寻找对应地址所存储的内容。

当然了，因为默认规定内存存储**按字对齐**，所以一般取出都是按字取出。   
恰巧，`int`型占用4个字节，正好一个字，按字取出特方便。不过呢，`int*`是一个存放`int`变量地址的**指针类型**，在字长为32位的操作系统中（就是x86架构，目前我们一般都是x64，即字长64操作系统，不过仍然向下兼容），内存地址需要用32位存储，所以`int*`也是4个字节。显而易见，一个指针就是记录一个字节的位置。

这就是为什么32位操作系统最大支持4G内存，因为4G = 4 * 1024 * 1024 * 1024 Bytes ＝ 2<sup>2\*10\*10\*10</sup> Bytes，恰好需要32位指针。指针类型占用一个字，字长32位的操作系统自然只能记录4G内存的位置。

总而言之，取`*p`的值，是要确定这个**字节地址**的内容。

--

而内存地址在用于Cache时，分为如下几个部分：

索引 标记 块内偏移 字节偏移

**索引**：用于快速定位Cache一行   
**标记**：用于确定该行是否对应该地址对应行   
**块内偏移**：因为Cache取出一行后，最终可能只需要一个字的内容，甚至一个字节的内容，因为这是字节地址。所以要有标记块内偏移，即第几个字的部分   
**字节偏移**：取出一个字，也许最终只需要一个字节，因为是字节地址。所以要有字节偏移，记录字内第几个字节的部分

--

CPU指令包括**取字**、**取半字**、**取字节**等，简单来说对应于int、short、char的取值。

CPU此时应该会从Cache中调取指针对应内存地址的一行Cache中的一个字，然后给CPU，CPU大概会视情况（就是数据类型），再根据字节偏移截断，仅仅使用所需的部分。

这里是我的猜想，但我认为真正的原理不会差太多。
